<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>자유게시판 글쓰기</title>
</head>
<body>
<h1>자유게시판 글쓰기</h1>

<form th:action="${isEdit} ? @{/free-board/{postId}/edit(postId=${postId})} : @{/free-board}"
      th:object="${postDTO}" method="post" enctype="multipart/form-data">

    <input type="hidden" th:field="*{userId}" />
    <input type="hidden" th:field="*{type}"/>

    <div>
        <label for="title">제목</label>
        <input type="text" id="title" th:field="*{title}" placeholder="제목을 입력하세요" required />
    </div>

    <div>
        <label for="content">내용</label>
        <textarea id="content" th:field="*{content}" placeholder="내용을 입력하세요" required></textarea>
    </div>

    <div>
        <label for="tags">태그 (쉼표로 구분)</label>
        <input type="text" id="tags" th:value="${postDTO.tagsInfo != null ? postDTO.tagsInfo.tags : ''}"
               name="tagsInfo.tags" placeholder="예: Java,Spring" />
    </div>

    <div>
        <label for="images">이미지 첨부</label>
        <input type="file" id="images" name="images" multiple />
    </div>

    <div>
        <button type="submit" th:text="${isEdit} ? '수정' : '등록'">등록</button>
        <a th:href="@{/free-board/latest}">취소</a>
    </div>
</form>

</body>
</html>
