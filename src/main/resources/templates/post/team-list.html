<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>outspecs - 게시판</title>
    <link rel="stylesheet" th:href="@{/css/post/list.css}">
</head>
<body>
<header th:replace="~{fragments/header :: header}"></header>
<div class="container" th:data-post-type="${postType.pathPrefix}">
    <section class="popular-section">
        <div class="list-title">인기게시글</div>
        <div class="popular-posts">
            <th:block th:each="post, iterStat : ${popularPosts}">
                <a th:href="@{/post/{id}(id=${post.id})}" class="popular-post">
                    <div class="post-info">
                        <div class="post-number" th:text="${iterStat.count}">1</div>
                        <div class="post-title" th:text="${post.title}">게시글 제목</div>
                        <div class="post-date" th:text="${#temporals.format(post.createdAt, 'yyyy.MM.dd')}">2025.08.10</div>
                    </div>
                    <div class="post-stats">
                        <img class="post-popular-icon" src="/images/like-fill.svg" alt="좋아요 아이콘">
                        <span class="likes" th:text="${post.likeCount}">153</span>
                    </div>
                </a>
            </th:block>
        </div>
    </section>

    <div class="content-wrapper">
        <main class="main-content">
            <a class="write-btn" th:if="${user != null}" th:href="@{/post/write}">글쓰기</a>
            <div class="post-list" th:fragment="postListFragment">
                <article class="post-item post-team-item" th:each="post : ${recentPosts}">
                    <div class="post-header">
                        <div class="write-btn" th:if="${post.teamInfo.status.name() == 'OPEN'}">모집중</div>
                        <div class="write-btn" th:if="${post.teamInfo.status.name() == 'CLOSED'}">모집완료</div>
                        <div class="post-team-title">
                            모집인원 <span class="post-team-capacity" th:text="${post.teamInfo.capacity}"></span>명
                        </div>
                    </div>

                    <a class="post-team-content" th:href="@{/post/{id}(id=${post.id})}">
                        <div class="post-date" th:text="${#temporals.format(post.createdAt, 'yyyy.MM.dd ~')}">작성일</div>
                        <div class="post-title" th:text="${post.title}">게시글 제목</div>
                    </a>

                    <div class="post-reaction">
                        <div class="post-reaction-count">
                            <div class="reaction-item">
                                <img class="post-icon" src="/images/like-fill.svg" alt="좋아요 아이콘">
                                <span th:text="${post.likeCount}">0</span>
                            </div>
                            <div class="reaction-item">
                                <img class="post-icon" src="/images/view.png" alt="조회수 아이콘">
                                <span th:text="${post.viewCount}">0</span>
                            </div>
                            <div class="reaction-item">
                                <img class="post-icon" src="/images/comment.png" alt="댓글 아이콘">
                                <span th:text="${post.commentCount}">0</span>
                            </div>
                        </div>
                        <div class="reaction-item">
                            <img class="post-icon"  src="/images/bookmark-fill.svg" alt="북마크 아이콘">
                            <span th:text="${post.bookmarkCount}">0</span>
                        </div>
                    </div>
                </article>
            </div>
        </main>
    </div>
</div>

<div class="ai-chat">
    AI<br>챗봇
</div>
<script src="/js/post-list.js"></script>
</body>
</html>