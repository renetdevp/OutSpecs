<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${profile.userId} != null
                  ? '${profile.nickname}님의 전체 프로필}'
                  : '새 프로필 만들기'">
        전체 프로필 페이지
    </title>
</head>
<body>
    <h2>내 오픈 프로필</h2>

    <!-- 프로필이 이미 있으면, 그 한 건만 보여주고 수정·삭제 버튼 노출 -->
    <div th:if="${profile != null}">
        <p><strong>닉네임:</strong> <span th:text="${profile.nickname}">닉네임</span></p>
        <p><strong>스택:</strong> <span th:text="${profile.stacks}">스택</span></p>
        <p><strong>경력:</strong> <span th:text="${profile.experience}">경력</span></p>
        <p><strong>소개:</strong> <span th:text="${profile.selfInfo}">소개</span></p>

        <a th:href="@{/users/profiles/{userId}/edit(userId=${profile.userId})}">수정</a>
        <form th:action="@{/users/profiles/{userId}/delete(userId=${profile.userId})}"
              method="post"
              style="display:inline">
            <button type="submit">삭제</button>
        </form>
    </div>

    <!-- 프로필이 없으면 새로 만들기 링크만 노출 -->
    <div th:if="${profile == null}">
        <p>아직 오픈 프로필이 없습니다.</p>
        <a th:href="@{/users/profiles/new}">새 프로필 만들기</a>
    </div>
</body>
</html>
